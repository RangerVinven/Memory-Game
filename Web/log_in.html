<html>


<!-- I was showing Nicol how we'd make the request to save the user. We thought we'd keep this here incase you want to refer to it -->
<!-- <script>
    function createUser() {
        const username = document.getElementById("Username").innerText;
        const password = document.getElementById("Password").innerText;

        fetch("http://localhost:8000/users", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: {
                "username": username,
                "password": password
            }
        })
    }
</script>

    <input id="Username" placeholder="Username" />
    <input id="Password" placeholder="Password" />
    <button type="button" onclick="createUser()">Sign-Up</button> -->
<!-- I was showing Nicol how we'd make the request to save the user. We thought we'd keep this here incase you want to refer to it -->

<head>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>

<body>

    <header>

    </header>

    <nav>
        <ul>
            <li> <a href="main.html">Play</a> </li>
            <li> <a href="leaderboard.html">Leaderboard</a></li>
            <li> <img src="playing-cards.png" width=50px height=50px></li>
            <li> <a id="sign_up" href="sign_up.html">Sign Up</a></li>
            <li> <a id="login" href="log_in.html">Log In</a></li>
        </ul>
    </nav>

    <main>
        <script>
            function changeNavBar(){
            const sign_up = document.getElementById("sign_up");
            sign_up.innerText="My Account"
            sign_up.href="account.html"

            const login = document.getElementById("login");
            login.innerText="Log Out"
            login.href="sign_out.html"
        }


            async function loginUser() {
                const email = document.getElementById("email").value;
                const password = document.getElementById("password").value;
                
                const res = await fetch("http://localhost:8000/users/login", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        "email": email,
                        "password": password
                    })
                })
                const data = await res.json()
                const sessionToken = data.session_token
                localStorage.setItem("sessionToken",sessionToken)
            changeNavBar()

            }
        </script>
        <form action="">
            <div class="form">
                <input id="email" type="email" placeholder="Email Address" />
                <input id="password" type="password" placeholder="Password" />
                <button type="button" onclick="loginUser()">Log In</button>
            </div>
        </form>
    </main>


</body>


</html>