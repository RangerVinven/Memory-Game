<html>

<head>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>

<body>

    <header>

    </header>

    <nav>
        <ul>
            <li> <a href="main.html">Play</a> </li>
            <li> <a href="leaderboard.html">Leaderboard</a></li>
            <li> <img src="playing-cards.png" width=50px height=50px></li>
            <li> <a id="sign_up" href="sign_up.html">Sign Up</a></li>
            <li> <a id="login" href="log_in.html">Log In</a></li>
        </ul>
    </nav>

    <main>
        <script>
            function changeNavBar() {
                const sign_up = document.getElementById("sign_up");
                sign_up.innerText = "My Account"
                sign_up.href = "account.html"

                const login = document.getElementById("login");
                login.innerText = "Log Out"
                login.href = "sign_out.html"
            }

            const data = await res.json()
            const sessionToken = data.session_token
            localStorage.setItem("sessionToken", sessionToken)
            changeNavBar()
        </script>


        <form action="">
            <div class="account_details">
                <H1>First Name</H1><input placeholder=""></input>
                <H1>Last Name</H1><input placeholder=""></input>
                <H1>Email Address</H1><input placeholder=""></input>
                <H1>Username</H1><input placeholder=""></input>

                <H1>Change Password</H1><input placeholder=""></input>

                <br><br><br>
                <div class="account_buttons">
                    <input type="button" onclick="location.href='personal_leaderboard.html';" value="My Scores" />
                    <input type="submit" value="Save"></button>


                    <script>
                        sessionToken = localStorage.getItem("sessionToken");

                        async function getUserData() {
                            const req = await fetch("http://localhost:8000/users/", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify({
                                "session_token": sessionToken,
                            })

                        });
                            const data = await req.json()
                            console.log(data)
                            }

                        if (sessionToken && sessionToken != "") {
                            getUserData()
                        }
                    </script>
                </div>
            </div>
        </form>
    </main>


</body>

<script src="checkIfLoggedIn.js"></script>

</html>